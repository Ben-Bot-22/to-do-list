(()=>{"use strict";var __webpack_modules__={568:()=>{eval("\n;// CONCATENATED MODULE: ./src/data.js\n// localStorage.setItem();\n// localStorage.getItem();\n// localStorage.removeItem();\n// localStorage.key();\n// JSON.parse()\n// JSON.stringify()\n\nconst key = 'odin';\n// key: app name, JSON for each column\n// title, cards\nfunction saveColumnData(columns) {\n  // const savedData = localStorage.getItem(key);\n  const newCol = mapToObj(columns);\n  localStorage.setItem(key, JSON.stringify(newCol));\n  console.log('new data: ' + JSON.stringify(newCol));\n}\n\nfunction mapToObj(inputMap) {\n  let obj = {};\n\n  inputMap.forEach(function (value, key) {\n    obj[key] = value;\n  });\n\n  return obj;\n}\n\nfunction getColumnData() {\n  //   localStorage.clear();\n  const data = localStorage.getItem(key);\n  //   console.log(JSON.parse(data));\n  return JSON.parse(data);\n}\n\n// function getKeyByValue(object, value) {\n//   return Object.keys(object).find((key) => object[key] === value);\n// }\n\n// if (storageAvailable('localStorage')) {\n//   // Yippee! We can use localStorage awesomeness\n// } else {\n//   // Too bad, no localStorage for us\n// }\n\n// function storageAvailable(type) {\n//   let storage;\n//   try {\n//     storage = window[type];\n//     const x = '__storage_test__';\n//     storage.setItem(x, x);\n//     storage.removeItem(x);\n//     return true;\n//   } catch (e) {\n//     return (\n//       e instanceof DOMException &&\n//       // everything except Firefox\n//       (e.code === 22 ||\n//         // Firefox\n//         e.code === 1014 ||\n//         // test name field too, because code might not be present\n//         // everything except Firefox\n//         e.name === 'QuotaExceededError' ||\n//         // Firefox\n//         e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n//       // acknowledge QuotaExceededError only if there's something already stored\n//       storage &&\n//       storage.length !== 0\n//     );\n//   }\n// }\n\n;// CONCATENATED MODULE: ./src/column.js\n// import addColumnToDOM from './dom';\n\n\nlet columns = new Map();\n\nclass Column {\n  constructor(title) {\n    this.title = title;\n    this.cards = [];\n    // write to DOM\n    // addColumnToDOM(this.title);\n  }\n\n  addCard = (card) => this.cards.push(card);\n\n  removeCard = (cardToRemove) => {\n    const index = this.cards.indexOf(cardToRemove);\n    if (index > -1) {\n      this.cards.splice(index, 1);\n    }\n  };\n\n  changeTitle = (newTitle) => {\n    this.title = newTitle;\n  };\n}\n\nfunction getColumn(colName) {\n  return columns.get(colName);\n}\n\nfunction removeCardFromColumn(card, colName) {\n  const col = getColumn(colName);\n  col.removeCard(card);\n  saveColumnData(columns);\n}\n\nfunction addCardToColumn(card, colName) {\n  // get column\n  const column = getColumn(colName);\n  // console.log(column);\n  column.addCard(card);\n  saveColumnData(columns);\n}\n\nfunction getColNumber() {\n  return columns.size;\n}\n\nfunction createColumn(title) {\n  const col = new Column(title);\n  return col;\n}\n\nfunction initColumns(startColumnName, save = true) {\n  const col = createColumn(startColumnName);\n  columns.set(startColumnName, col);\n  if (save) saveColumnData(columns);\n  return col;\n}\n\n;// CONCATENATED MODULE: ./src/card.js\n\n\nlet cards = new Map();\n\nclass Card {\n  constructor(title, colName) {\n    this.title = title;\n    this.colName = colName;\n  }\n  //   title\n  //   description,\n  //   dueDate,\n  //   priority,\n  //   project,\n  //   column\n}\n\nfunction createCard(title, colName) {\n  const card = new Card(title, colName);\n  cards.set(title, card);\n  addCardToColumn(card, colName);\n  return card;\n}\n\nfunction removeCard(title) {\n  // get card\n  const card = cards.get(title);\n  console.log(card);\n  // get col\n  const colName = card.colName;\n  // remove card from column\n  removeCardFromColumn(card, colName);\n  // remove card from map\n  cards.delete(card.title);\n}\n\n;// CONCATENATED MODULE: ./src/dom.js\n\n// import addCardToColumn from './column';\n// import addCardToColumn from './index';\n\n// Objects\nlet activeForm = new Map();\n\n// hide add task button; button is used to create a form\n// to collect input form user on a new task\nfunction toggleAddTaskButton() {\n  const addTask = activeForm.get('addTaskButton');\n  if (addTask.classList.contains('hide')) {\n    addTask.classList.remove('hide');\n  } else {\n    addTask.classList.add('hide');\n  }\n}\n\nfunction removeForm() {\n  activeForm.get('card').remove();\n  activeForm.get('buttonContainer').remove();\n  toggleAddTaskButton();\n  activeForm.clear();\n}\n\nfunction cardDone(event) {\n  // get column\n  // remove card from column\n  removeCard(\n    event.target.parentNode\n      .querySelector('#title-input')\n      .getAttribute('data-title')\n  );\n  event.target.parentNode.parentNode.removeChild(event.target.parentNode);\n}\n\nfunction createCardDOM(card) {\n  //     <div class=\"to-do-card round\">\n  //     <input type=\"checkbox\" name=\"task-0\" />\n  //     <label for=\"task-0\">First task</label>\n  //   </div>\n  // create\n  const cardDiv = document.createElement('div');\n  const checkbox = document.createElement('input');\n  const title = document.createElement('input');\n  // add attributes\n  cardDiv.classList.add('to-do-card');\n  cardDiv.classList.add('round');\n  checkbox.setAttribute('type', 'checkbox');\n  title.setAttribute('id', 'title-input');\n  title.setAttribute('data-title', card.title);\n  // DOM\n  title.value = card.title;\n  // render\n  cardDiv.appendChild(checkbox);\n  cardDiv.appendChild(title);\n  // event listeners\n  checkbox.addEventListener('click', cardDone);\n  // save input change in card.js\n  return cardDiv;\n}\n\n//  Add card to column array\nfunction createNewCard(event) {\n  const dataColumn = event.target.parentNode.parentNode;\n  // console.log(event.target.parentNode.parentNode.getAttribute('data-column')); // add button\n  const cardTitle = document.getElementById('card-title');\n  const card = createCard(\n    cardTitle.value,\n    event.target.parentNode.parentNode.getAttribute('data-column')\n  );\n  // add card to HTML\n  const cardDOM = createCardDOM(card);\n  const children = dataColumn.getElementsByTagName('div');\n  // 1st child is name of column, second child is container for cards,\n  // last child is add task button\n  children[1].appendChild(cardDOM);\n  removeForm();\n}\n\nfunction loadCard(title, colName) {\n  // get parent node matching column name\n  const dataColumn = document.querySelector(`[data-column='${colName}']`);\n  console.log(dataColumn);\n  const card = createCard(title, colName);\n  // add card to HTML\n  const cardDOM = createCardDOM(card);\n  const children = dataColumn.getElementsByTagName('div');\n  // 1st child is name of column, second child is container for cards,\n  // last child is add task button\n  children[1].appendChild(cardDOM);\n}\n\nfunction cancelNewCard() {\n  removeForm();\n}\n\nfunction createCardForm(event) {\n  //     <div class=\"to-do-card\" id=\"form\">\n  //     <form method=\"get\">\n  //       <input placeholder=\"task name\" id=\"card-title\" required />\n  //     </form>\n  //   </div>\n  //   <div id=\"card-btns\">\n  //     <button id=\"card-cancel-btn\">Cancel</button>\n  //     <button type=\"submit\" id=\"card-add-btn\">Add</button>\n  //   </div>\n  const dataColumn = event.target.parentNode.getAttribute('data-column');\n  // console.log(dataColumn);\n  // console.log(\n  //   document.querySelector(`[data-column=${dataColumn}] button:first-of-type`)\n  // );\n  const columnParent = event.target.parentNode;\n  const card = document.createElement('div');\n  const formCard = document.createElement('form');\n  const inputTitle = document.createElement('input');\n  const buttonContainer = document.createElement('div');\n  const buttonCancel = document.createElement('button');\n  const buttonAdd = document.createElement('button');\n\n  // add inner html\n  buttonCancel.innerHTML = 'Cancel';\n  buttonAdd.innerHTML = 'Add';\n\n  // add classes\n  card.classList.add('to-do-card');\n  card.setAttribute('id', 'form');\n  inputTitle.setAttribute('placeholder', 'Task name');\n  inputTitle.setAttribute('id', 'card-title');\n  inputTitle.required = true;\n  inputTitle.setAttribute('autocomplete', 'off');\n  buttonContainer.setAttribute('id', 'card-btns');\n  buttonCancel.setAttribute('id', 'card-cancel-btn');\n  buttonAdd.setAttribute('type', 'submit');\n  buttonAdd.setAttribute('id', 'card-add-btn');\n\n  // append children\n  columnParent.appendChild(card);\n  card.appendChild(formCard);\n  formCard.appendChild(inputTitle);\n  columnParent.appendChild(buttonContainer);\n  buttonContainer.appendChild(buttonCancel);\n  buttonContainer.appendChild(buttonAdd);\n\n  // focus\n  inputTitle.focus();\n  inputTitle.addEventListener('keypress', (e) => {\n    if (e.key === 'Enter') {\n      // e.preventDefault();\n      createNewCard();\n    }\n  });\n\n  // button event listeners\n  buttonAdd.addEventListener('click', createNewCard);\n  buttonAdd.column = event.target.columnName;\n  buttonCancel.addEventListener('click', cancelNewCard);\n\n  // save active form in map\n  activeForm.set('card', card);\n  activeForm.set('buttonContainer', buttonContainer);\n  // document.querySelector(`[data-column='${dataColumn}'] button:first-of-type`)\n  activeForm.set(\n    'addTaskButton',\n    document.querySelector(`[data-column='${dataColumn}'] #add-task`)\n  );\n\n  // hide create new button (generates form)\n  toggleAddTaskButton();\n}\n\nfunction editTitle(event) {\n  console.log(event.target.innerHTML);\n}\n\nfunction addColumnToDOM(colObject) {\n  // <div data-column=\"0\" class=\"column\">\n  // <div class=\"column-title\">Inbox</div>\n  // <div id=\"column-cards\">\n  //   <div class=\"to-do-card round\">\n  //     <input type=\"checkbox\" name=\"task-0\" />\n  //     <label for=\"task-0\">First task</label>\n  //   </div>\n  // </div>\n  // <button class=\"add-task-btn\">+ add task</button>\n  // </div>\n  const columnContent = document.querySelector('.column-content');\n  // Create\n  const parentDiv = document.createElement('div');\n  const titleDiv = document.createElement('div');\n  const cardParentDiv = document.createElement('div');\n  const addButton = document.createElement('button');\n  // Add html\n  titleDiv.innerHTML = colObject.title;\n  addButton.innerHTML = '+ add task';\n  // Add attributes\n  parentDiv.setAttribute('data-column', colObject.title);\n  parentDiv.classList.add('column');\n  titleDiv.classList.add('column-title');\n  cardParentDiv.setAttribute('id', 'column-cards');\n  addButton.classList.add('add-task-btn');\n  addButton.setAttribute('id', 'add-task');\n  // Append\n  columnContent.appendChild(parentDiv);\n  parentDiv.appendChild(titleDiv);\n  parentDiv.appendChild(cardParentDiv);\n  parentDiv.appendChild(addButton);\n  // Listeners\n  // titleDiv.addEventListener('click', editTitle);\n  addButton.addEventListener('click', createCardForm);\n  addButton.columnName = colObject.title;\n}\n\n;// CONCATENATED MODULE: ./src/index.js\n\n\n\n// import { createCard } from './card';\n// import { initNewColumnButtons } from './add-new-column';\n\nfunction initNewColumnButtons() {\n  const addColButtons = document.querySelectorAll('.add-column-btn');\n  addColButtons.forEach((btn) => btn.addEventListener('click', addColumn));\n  // console.log(addColButtons.length);\n}\n\n// add a new column when click on DOM button\nfunction addColumn() {\n  // get col number\n  const newColumnName = 'List ' + getColNumber();\n  addColumnToDOM(initColumns(newColumnName));\n}\n\nfunction loadData() {\n  const data = getColumnData();\n  console.log(JSON.stringify(data));\n  if (data) {\n    // for each column, create column\n    for (const column in data) {\n      addColumnToDOM(initColumns(column, false));\n      console.log(data[column]['cards']);\n      data[column]['cards'].forEach((card) => {\n        console.log(card.title + ', ' + card.colName);\n        // create card\n        loadCard(card.title, card.colName);\n      });\n    }\n  } else {\n    const startColumnName = 'Inbox';\n    addColumnToDOM(initColumns(startColumnName));\n  }\n}\n\n// localStorage.clear();\n// addColumnToDOM(initColumns('T1'));\n// addColumnToDOM(initColumns('title_2'));\nloadData();\ninitNewColumnButtons();\n\n/*\nTODO:\n\n**Extended**\n\nPRIORITY\n- Expand new to do form w/ priority\n- changing color for different priorities\n\nPOLISH\n- Change column title with click\n-- Form add button create task (disabled if no text)\n- view all todos in each project (probably just the title and duedate)\n- expand a single todo to see/edit its details\n- delete a todo\n\nNAV\n- keep left column on screen - focus on 1 column\n-- scroll through with arrow keys\n\n- move columns\n- date-fns for formatting and manipulating dates and times.\n- User authentication\n- BaaS\n\n*/\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTY4LmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNyRUE7QUFDdUQ7O0FBRXZEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0EsRUFBRSxjQUFjO0FBQ2hCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGNBQWM7QUFDaEI7O0FBRU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBOzs7QUMzRGlFOztBQUVqRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0EsRUFBRSxlQUFlO0FBQ2pCO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLG9CQUFvQjtBQUN0QjtBQUNBO0FBQ0E7OztBQ2xDZ0Q7QUFDaEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRSxVQUFVO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRjtBQUNsRjtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQSw2REFBNkQsUUFBUTtBQUNyRTtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsV0FBVztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsV0FBVztBQUN4RDtBQUNBO0FBQ0EsNENBQTRDLFdBQVc7QUFDdkQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbk5xRDtBQUNKO0FBQ1Y7QUFDdkMsWUFBWSxhQUFhO0FBQ3pCLFlBQVksdUJBQXVCOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxZQUFZO0FBQzlDLEVBQUUsY0FBYyxDQUFDLFdBQVc7QUFDNUI7O0FBRUE7QUFDQSxlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGNBQWMsQ0FBQyxXQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxRQUFRO0FBQ2hCLE9BQU87QUFDUDtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUksY0FBYyxDQUFDLFdBQVc7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2RhdGEuanM/ZjYwMSIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2NvbHVtbi5qcz9iNmI3Iiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvY2FyZC5qcz81YTIxIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvZG9tLmpzP2NiZjAiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCk7XG4vLyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgpO1xuLy8gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oKTtcbi8vIGxvY2FsU3RvcmFnZS5rZXkoKTtcbi8vIEpTT04ucGFyc2UoKVxuLy8gSlNPTi5zdHJpbmdpZnkoKVxuXG5jb25zdCBrZXkgPSAnb2Rpbic7XG4vLyBrZXk6IGFwcCBuYW1lLCBKU09OIGZvciBlYWNoIGNvbHVtblxuLy8gdGl0bGUsIGNhcmRzXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUNvbHVtbkRhdGEoY29sdW1ucykge1xuICAvLyBjb25zdCBzYXZlZERhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICBjb25zdCBuZXdDb2wgPSBtYXBUb09iaihjb2x1bW5zKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShuZXdDb2wpKTtcbiAgY29uc29sZS5sb2coJ25ldyBkYXRhOiAnICsgSlNPTi5zdHJpbmdpZnkobmV3Q29sKSk7XG59XG5cbmZ1bmN0aW9uIG1hcFRvT2JqKGlucHV0TWFwKSB7XG4gIGxldCBvYmogPSB7fTtcblxuICBpbnB1dE1hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbHVtbkRhdGEoKSB7XG4gIC8vICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gIGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAvLyAgIGNvbnNvbGUubG9nKEpTT04ucGFyc2UoZGF0YSkpO1xuICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcbn1cblxuLy8gZnVuY3Rpb24gZ2V0S2V5QnlWYWx1ZShvYmplY3QsIHZhbHVlKSB7XG4vLyAgIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmZpbmQoKGtleSkgPT4gb2JqZWN0W2tleV0gPT09IHZhbHVlKTtcbi8vIH1cblxuLy8gaWYgKHN0b3JhZ2VBdmFpbGFibGUoJ2xvY2FsU3RvcmFnZScpKSB7XG4vLyAgIC8vIFlpcHBlZSEgV2UgY2FuIHVzZSBsb2NhbFN0b3JhZ2UgYXdlc29tZW5lc3Ncbi8vIH0gZWxzZSB7XG4vLyAgIC8vIFRvbyBiYWQsIG5vIGxvY2FsU3RvcmFnZSBmb3IgdXNcbi8vIH1cblxuLy8gZnVuY3Rpb24gc3RvcmFnZUF2YWlsYWJsZSh0eXBlKSB7XG4vLyAgIGxldCBzdG9yYWdlO1xuLy8gICB0cnkge1xuLy8gICAgIHN0b3JhZ2UgPSB3aW5kb3dbdHlwZV07XG4vLyAgICAgY29uc3QgeCA9ICdfX3N0b3JhZ2VfdGVzdF9fJztcbi8vICAgICBzdG9yYWdlLnNldEl0ZW0oeCwgeCk7XG4vLyAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKHgpO1xuLy8gICAgIHJldHVybiB0cnVlO1xuLy8gICB9IGNhdGNoIChlKSB7XG4vLyAgICAgcmV0dXJuIChcbi8vICAgICAgIGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiZcbi8vICAgICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbi8vICAgICAgIChlLmNvZGUgPT09IDIyIHx8XG4vLyAgICAgICAgIC8vIEZpcmVmb3hcbi8vICAgICAgICAgZS5jb2RlID09PSAxMDE0IHx8XG4vLyAgICAgICAgIC8vIHRlc3QgbmFtZSBmaWVsZCB0b28sIGJlY2F1c2UgY29kZSBtaWdodCBub3QgYmUgcHJlc2VudFxuLy8gICAgICAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XG4vLyAgICAgICAgIGUubmFtZSA9PT0gJ1F1b3RhRXhjZWVkZWRFcnJvcicgfHxcbi8vICAgICAgICAgLy8gRmlyZWZveFxuLy8gICAgICAgICBlLm5hbWUgPT09ICdOU19FUlJPUl9ET01fUVVPVEFfUkVBQ0hFRCcpICYmXG4vLyAgICAgICAvLyBhY2tub3dsZWRnZSBRdW90YUV4Y2VlZGVkRXJyb3Igb25seSBpZiB0aGVyZSdzIHNvbWV0aGluZyBhbHJlYWR5IHN0b3JlZFxuLy8gICAgICAgc3RvcmFnZSAmJlxuLy8gICAgICAgc3RvcmFnZS5sZW5ndGggIT09IDBcbi8vICAgICApO1xuLy8gICB9XG4vLyB9XG4iLCIvLyBpbXBvcnQgYWRkQ29sdW1uVG9ET00gZnJvbSAnLi9kb20nO1xuaW1wb3J0IHsgc2F2ZUNvbHVtbkRhdGEsIGdldENvbHVtbkRhdGEgfSBmcm9tICcuL2RhdGEnO1xuXG5sZXQgY29sdW1ucyA9IG5ldyBNYXAoKTtcblxuY2xhc3MgQ29sdW1uIHtcbiAgY29uc3RydWN0b3IodGl0bGUpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5jYXJkcyA9IFtdO1xuICAgIC8vIHdyaXRlIHRvIERPTVxuICAgIC8vIGFkZENvbHVtblRvRE9NKHRoaXMudGl0bGUpO1xuICB9XG5cbiAgYWRkQ2FyZCA9IChjYXJkKSA9PiB0aGlzLmNhcmRzLnB1c2goY2FyZCk7XG5cbiAgcmVtb3ZlQ2FyZCA9IChjYXJkVG9SZW1vdmUpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuY2FyZHMuaW5kZXhPZihjYXJkVG9SZW1vdmUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLmNhcmRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9O1xuXG4gIGNoYW5nZVRpdGxlID0gKG5ld1RpdGxlKSA9PiB7XG4gICAgdGhpcy50aXRsZSA9IG5ld1RpdGxlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRDb2x1bW4oY29sTmFtZSkge1xuICByZXR1cm4gY29sdW1ucy5nZXQoY29sTmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDYXJkRnJvbUNvbHVtbihjYXJkLCBjb2xOYW1lKSB7XG4gIGNvbnN0IGNvbCA9IGdldENvbHVtbihjb2xOYW1lKTtcbiAgY29sLnJlbW92ZUNhcmQoY2FyZCk7XG4gIHNhdmVDb2x1bW5EYXRhKGNvbHVtbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2FyZFRvQ29sdW1uKGNhcmQsIGNvbE5hbWUpIHtcbiAgLy8gZ2V0IGNvbHVtblxuICBjb25zdCBjb2x1bW4gPSBnZXRDb2x1bW4oY29sTmFtZSk7XG4gIC8vIGNvbnNvbGUubG9nKGNvbHVtbik7XG4gIGNvbHVtbi5hZGRDYXJkKGNhcmQpO1xuICBzYXZlQ29sdW1uRGF0YShjb2x1bW5zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbE51bWJlcigpIHtcbiAgcmV0dXJuIGNvbHVtbnMuc2l6ZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29sdW1uKHRpdGxlKSB7XG4gIGNvbnN0IGNvbCA9IG5ldyBDb2x1bW4odGl0bGUpO1xuICByZXR1cm4gY29sO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdENvbHVtbnMoc3RhcnRDb2x1bW5OYW1lLCBzYXZlID0gdHJ1ZSkge1xuICBjb25zdCBjb2wgPSBjcmVhdGVDb2x1bW4oc3RhcnRDb2x1bW5OYW1lKTtcbiAgY29sdW1ucy5zZXQoc3RhcnRDb2x1bW5OYW1lLCBjb2wpO1xuICBpZiAoc2F2ZSkgc2F2ZUNvbHVtbkRhdGEoY29sdW1ucyk7XG4gIHJldHVybiBjb2w7XG59XG4iLCJpbXBvcnQgeyBhZGRDYXJkVG9Db2x1bW4sIHJlbW92ZUNhcmRGcm9tQ29sdW1uIH0gZnJvbSAnLi9jb2x1bW4nO1xuXG5sZXQgY2FyZHMgPSBuZXcgTWFwKCk7XG5cbmNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih0aXRsZSwgY29sTmFtZSkge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLmNvbE5hbWUgPSBjb2xOYW1lO1xuICB9XG4gIC8vICAgdGl0bGVcbiAgLy8gICBkZXNjcmlwdGlvbixcbiAgLy8gICBkdWVEYXRlLFxuICAvLyAgIHByaW9yaXR5LFxuICAvLyAgIHByb2plY3QsXG4gIC8vICAgY29sdW1uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYXJkKHRpdGxlLCBjb2xOYW1lKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh0aXRsZSwgY29sTmFtZSk7XG4gIGNhcmRzLnNldCh0aXRsZSwgY2FyZCk7XG4gIGFkZENhcmRUb0NvbHVtbihjYXJkLCBjb2xOYW1lKTtcbiAgcmV0dXJuIGNhcmQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDYXJkKHRpdGxlKSB7XG4gIC8vIGdldCBjYXJkXG4gIGNvbnN0IGNhcmQgPSBjYXJkcy5nZXQodGl0bGUpO1xuICBjb25zb2xlLmxvZyhjYXJkKTtcbiAgLy8gZ2V0IGNvbFxuICBjb25zdCBjb2xOYW1lID0gY2FyZC5jb2xOYW1lO1xuICAvLyByZW1vdmUgY2FyZCBmcm9tIGNvbHVtblxuICByZW1vdmVDYXJkRnJvbUNvbHVtbihjYXJkLCBjb2xOYW1lKTtcbiAgLy8gcmVtb3ZlIGNhcmQgZnJvbSBtYXBcbiAgY2FyZHMuZGVsZXRlKGNhcmQudGl0bGUpO1xufVxuIiwiaW1wb3J0IHsgY3JlYXRlQ2FyZCwgcmVtb3ZlQ2FyZCB9IGZyb20gJy4vY2FyZCc7XG4vLyBpbXBvcnQgYWRkQ2FyZFRvQ29sdW1uIGZyb20gJy4vY29sdW1uJztcbi8vIGltcG9ydCBhZGRDYXJkVG9Db2x1bW4gZnJvbSAnLi9pbmRleCc7XG5cbi8vIE9iamVjdHNcbmxldCBhY3RpdmVGb3JtID0gbmV3IE1hcCgpO1xuXG4vLyBoaWRlIGFkZCB0YXNrIGJ1dHRvbjsgYnV0dG9uIGlzIHVzZWQgdG8gY3JlYXRlIGEgZm9ybVxuLy8gdG8gY29sbGVjdCBpbnB1dCBmb3JtIHVzZXIgb24gYSBuZXcgdGFza1xuZnVuY3Rpb24gdG9nZ2xlQWRkVGFza0J1dHRvbigpIHtcbiAgY29uc3QgYWRkVGFzayA9IGFjdGl2ZUZvcm0uZ2V0KCdhZGRUYXNrQnV0dG9uJyk7XG4gIGlmIChhZGRUYXNrLmNsYXNzTGlzdC5jb250YWlucygnaGlkZScpKSB7XG4gICAgYWRkVGFzay5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gIH0gZWxzZSB7XG4gICAgYWRkVGFzay5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlRm9ybSgpIHtcbiAgYWN0aXZlRm9ybS5nZXQoJ2NhcmQnKS5yZW1vdmUoKTtcbiAgYWN0aXZlRm9ybS5nZXQoJ2J1dHRvbkNvbnRhaW5lcicpLnJlbW92ZSgpO1xuICB0b2dnbGVBZGRUYXNrQnV0dG9uKCk7XG4gIGFjdGl2ZUZvcm0uY2xlYXIoKTtcbn1cblxuZnVuY3Rpb24gY2FyZERvbmUoZXZlbnQpIHtcbiAgLy8gZ2V0IGNvbHVtblxuICAvLyByZW1vdmUgY2FyZCBmcm9tIGNvbHVtblxuICByZW1vdmVDYXJkKFxuICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlXG4gICAgICAucXVlcnlTZWxlY3RvcignI3RpdGxlLWlucHV0JylcbiAgICAgIC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGl0bGUnKVxuICApO1xuICBldmVudC50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGV2ZW50LnRhcmdldC5wYXJlbnROb2RlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZERPTShjYXJkKSB7XG4gIC8vICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tY2FyZCByb3VuZFwiPlxuICAvLyAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJ0YXNrLTBcIiAvPlxuICAvLyAgICAgPGxhYmVsIGZvcj1cInRhc2stMFwiPkZpcnN0IHRhc2s8L2xhYmVsPlxuICAvLyAgIDwvZGl2PlxuICAvLyBjcmVhdGVcbiAgY29uc3QgY2FyZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgLy8gYWRkIGF0dHJpYnV0ZXNcbiAgY2FyZERpdi5jbGFzc0xpc3QuYWRkKCd0by1kby1jYXJkJyk7XG4gIGNhcmREaXYuY2xhc3NMaXN0LmFkZCgncm91bmQnKTtcbiAgY2hlY2tib3guc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gIHRpdGxlLnNldEF0dHJpYnV0ZSgnaWQnLCAndGl0bGUtaW5wdXQnKTtcbiAgdGl0bGUuc2V0QXR0cmlidXRlKCdkYXRhLXRpdGxlJywgY2FyZC50aXRsZSk7XG4gIC8vIERPTVxuICB0aXRsZS52YWx1ZSA9IGNhcmQudGl0bGU7XG4gIC8vIHJlbmRlclxuICBjYXJkRGl2LmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgY2FyZERpdi5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gIC8vIGV2ZW50IGxpc3RlbmVyc1xuICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhcmREb25lKTtcbiAgLy8gc2F2ZSBpbnB1dCBjaGFuZ2UgaW4gY2FyZC5qc1xuICByZXR1cm4gY2FyZERpdjtcbn1cblxuLy8gIEFkZCBjYXJkIHRvIGNvbHVtbiBhcnJheVxuZnVuY3Rpb24gY3JlYXRlTmV3Q2FyZChldmVudCkge1xuICBjb25zdCBkYXRhQ29sdW1uID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZTtcbiAgLy8gY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sdW1uJykpOyAvLyBhZGQgYnV0dG9uXG4gIGNvbnN0IGNhcmRUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkLXRpdGxlJyk7XG4gIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKFxuICAgIGNhcmRUaXRsZS52YWx1ZSxcbiAgICBldmVudC50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2x1bW4nKVxuICApO1xuICAvLyBhZGQgY2FyZCB0byBIVE1MXG4gIGNvbnN0IGNhcmRET00gPSBjcmVhdGVDYXJkRE9NKGNhcmQpO1xuICBjb25zdCBjaGlsZHJlbiA9IGRhdGFDb2x1bW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpO1xuICAvLyAxc3QgY2hpbGQgaXMgbmFtZSBvZiBjb2x1bW4sIHNlY29uZCBjaGlsZCBpcyBjb250YWluZXIgZm9yIGNhcmRzLFxuICAvLyBsYXN0IGNoaWxkIGlzIGFkZCB0YXNrIGJ1dHRvblxuICBjaGlsZHJlblsxXS5hcHBlbmRDaGlsZChjYXJkRE9NKTtcbiAgcmVtb3ZlRm9ybSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZENhcmQodGl0bGUsIGNvbE5hbWUpIHtcbiAgLy8gZ2V0IHBhcmVudCBub2RlIG1hdGNoaW5nIGNvbHVtbiBuYW1lXG4gIGNvbnN0IGRhdGFDb2x1bW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb2x1bW49JyR7Y29sTmFtZX0nXWApO1xuICBjb25zb2xlLmxvZyhkYXRhQ29sdW1uKTtcbiAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQodGl0bGUsIGNvbE5hbWUpO1xuICAvLyBhZGQgY2FyZCB0byBIVE1MXG4gIGNvbnN0IGNhcmRET00gPSBjcmVhdGVDYXJkRE9NKGNhcmQpO1xuICBjb25zdCBjaGlsZHJlbiA9IGRhdGFDb2x1bW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpO1xuICAvLyAxc3QgY2hpbGQgaXMgbmFtZSBvZiBjb2x1bW4sIHNlY29uZCBjaGlsZCBpcyBjb250YWluZXIgZm9yIGNhcmRzLFxuICAvLyBsYXN0IGNoaWxkIGlzIGFkZCB0YXNrIGJ1dHRvblxuICBjaGlsZHJlblsxXS5hcHBlbmRDaGlsZChjYXJkRE9NKTtcbn1cblxuZnVuY3Rpb24gY2FuY2VsTmV3Q2FyZCgpIHtcbiAgcmVtb3ZlRm9ybSgpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkRm9ybShldmVudCkge1xuICAvLyAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWNhcmRcIiBpZD1cImZvcm1cIj5cbiAgLy8gICAgIDxmb3JtIG1ldGhvZD1cImdldFwiPlxuICAvLyAgICAgICA8aW5wdXQgcGxhY2Vob2xkZXI9XCJ0YXNrIG5hbWVcIiBpZD1cImNhcmQtdGl0bGVcIiByZXF1aXJlZCAvPlxuICAvLyAgICAgPC9mb3JtPlxuICAvLyAgIDwvZGl2PlxuICAvLyAgIDxkaXYgaWQ9XCJjYXJkLWJ0bnNcIj5cbiAgLy8gICAgIDxidXR0b24gaWQ9XCJjYXJkLWNhbmNlbC1idG5cIj5DYW5jZWw8L2J1dHRvbj5cbiAgLy8gICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGlkPVwiY2FyZC1hZGQtYnRuXCI+QWRkPC9idXR0b24+XG4gIC8vICAgPC9kaXY+XG4gIGNvbnN0IGRhdGFDb2x1bW4gPSBldmVudC50YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sdW1uJyk7XG4gIC8vIGNvbnNvbGUubG9nKGRhdGFDb2x1bW4pO1xuICAvLyBjb25zb2xlLmxvZyhcbiAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb2x1bW49JHtkYXRhQ29sdW1ufV0gYnV0dG9uOmZpcnN0LW9mLXR5cGVgKVxuICAvLyApO1xuICBjb25zdCBjb2x1bW5QYXJlbnQgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZTtcbiAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBmb3JtQ2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgY29uc3QgaW5wdXRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBidXR0b25DYW5jZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgY29uc3QgYnV0dG9uQWRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgLy8gYWRkIGlubmVyIGh0bWxcbiAgYnV0dG9uQ2FuY2VsLmlubmVySFRNTCA9ICdDYW5jZWwnO1xuICBidXR0b25BZGQuaW5uZXJIVE1MID0gJ0FkZCc7XG5cbiAgLy8gYWRkIGNsYXNzZXNcbiAgY2FyZC5jbGFzc0xpc3QuYWRkKCd0by1kby1jYXJkJyk7XG4gIGNhcmQuc2V0QXR0cmlidXRlKCdpZCcsICdmb3JtJyk7XG4gIGlucHV0VGl0bGUuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdUYXNrIG5hbWUnKTtcbiAgaW5wdXRUaXRsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2NhcmQtdGl0bGUnKTtcbiAgaW5wdXRUaXRsZS5yZXF1aXJlZCA9IHRydWU7XG4gIGlucHV0VGl0bGUuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG4gIGJ1dHRvbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2NhcmQtYnRucycpO1xuICBidXR0b25DYW5jZWwuc2V0QXR0cmlidXRlKCdpZCcsICdjYXJkLWNhbmNlbC1idG4nKTtcbiAgYnV0dG9uQWRkLnNldEF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKTtcbiAgYnV0dG9uQWRkLnNldEF0dHJpYnV0ZSgnaWQnLCAnY2FyZC1hZGQtYnRuJyk7XG5cbiAgLy8gYXBwZW5kIGNoaWxkcmVuXG4gIGNvbHVtblBhcmVudC5hcHBlbmRDaGlsZChjYXJkKTtcbiAgY2FyZC5hcHBlbmRDaGlsZChmb3JtQ2FyZCk7XG4gIGZvcm1DYXJkLmFwcGVuZENoaWxkKGlucHV0VGl0bGUpO1xuICBjb2x1bW5QYXJlbnQuYXBwZW5kQ2hpbGQoYnV0dG9uQ29udGFpbmVyKTtcbiAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbkNhbmNlbCk7XG4gIGJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25BZGQpO1xuXG4gIC8vIGZvY3VzXG4gIGlucHV0VGl0bGUuZm9jdXMoKTtcbiAgaW5wdXRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAvLyBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjcmVhdGVOZXdDYXJkKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBidXR0b24gZXZlbnQgbGlzdGVuZXJzXG4gIGJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNyZWF0ZU5ld0NhcmQpO1xuICBidXR0b25BZGQuY29sdW1uID0gZXZlbnQudGFyZ2V0LmNvbHVtbk5hbWU7XG4gIGJ1dHRvbkNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbmNlbE5ld0NhcmQpO1xuXG4gIC8vIHNhdmUgYWN0aXZlIGZvcm0gaW4gbWFwXG4gIGFjdGl2ZUZvcm0uc2V0KCdjYXJkJywgY2FyZCk7XG4gIGFjdGl2ZUZvcm0uc2V0KCdidXR0b25Db250YWluZXInLCBidXR0b25Db250YWluZXIpO1xuICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb2x1bW49JyR7ZGF0YUNvbHVtbn0nXSBidXR0b246Zmlyc3Qtb2YtdHlwZWApXG4gIGFjdGl2ZUZvcm0uc2V0KFxuICAgICdhZGRUYXNrQnV0dG9uJyxcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb2x1bW49JyR7ZGF0YUNvbHVtbn0nXSAjYWRkLXRhc2tgKVxuICApO1xuXG4gIC8vIGhpZGUgY3JlYXRlIG5ldyBidXR0b24gKGdlbmVyYXRlcyBmb3JtKVxuICB0b2dnbGVBZGRUYXNrQnV0dG9uKCk7XG59XG5cbmZ1bmN0aW9uIGVkaXRUaXRsZShldmVudCkge1xuICBjb25zb2xlLmxvZyhldmVudC50YXJnZXQuaW5uZXJIVE1MKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbHVtblRvRE9NKGNvbE9iamVjdCkge1xuICAvLyA8ZGl2IGRhdGEtY29sdW1uPVwiMFwiIGNsYXNzPVwiY29sdW1uXCI+XG4gIC8vIDxkaXYgY2xhc3M9XCJjb2x1bW4tdGl0bGVcIj5JbmJveDwvZGl2PlxuICAvLyA8ZGl2IGlkPVwiY29sdW1uLWNhcmRzXCI+XG4gIC8vICAgPGRpdiBjbGFzcz1cInRvLWRvLWNhcmQgcm91bmRcIj5cbiAgLy8gICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwidGFzay0wXCIgLz5cbiAgLy8gICAgIDxsYWJlbCBmb3I9XCJ0YXNrLTBcIj5GaXJzdCB0YXNrPC9sYWJlbD5cbiAgLy8gICA8L2Rpdj5cbiAgLy8gPC9kaXY+XG4gIC8vIDxidXR0b24gY2xhc3M9XCJhZGQtdGFzay1idG5cIj4rIGFkZCB0YXNrPC9idXR0b24+XG4gIC8vIDwvZGl2PlxuICBjb25zdCBjb2x1bW5Db250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbHVtbi1jb250ZW50Jyk7XG4gIC8vIENyZWF0ZVxuICBjb25zdCBwYXJlbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgdGl0bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgY2FyZFBhcmVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgLy8gQWRkIGh0bWxcbiAgdGl0bGVEaXYuaW5uZXJIVE1MID0gY29sT2JqZWN0LnRpdGxlO1xuICBhZGRCdXR0b24uaW5uZXJIVE1MID0gJysgYWRkIHRhc2snO1xuICAvLyBBZGQgYXR0cmlidXRlc1xuICBwYXJlbnREaXYuc2V0QXR0cmlidXRlKCdkYXRhLWNvbHVtbicsIGNvbE9iamVjdC50aXRsZSk7XG4gIHBhcmVudERpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nKTtcbiAgdGl0bGVEaXYuY2xhc3NMaXN0LmFkZCgnY29sdW1uLXRpdGxlJyk7XG4gIGNhcmRQYXJlbnREaXYuc2V0QXR0cmlidXRlKCdpZCcsICdjb2x1bW4tY2FyZHMnKTtcbiAgYWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FkZC10YXNrLWJ0bicpO1xuICBhZGRCdXR0b24uc2V0QXR0cmlidXRlKCdpZCcsICdhZGQtdGFzaycpO1xuICAvLyBBcHBlbmRcbiAgY29sdW1uQ29udGVudC5hcHBlbmRDaGlsZChwYXJlbnREaXYpO1xuICBwYXJlbnREaXYuYXBwZW5kQ2hpbGQodGl0bGVEaXYpO1xuICBwYXJlbnREaXYuYXBwZW5kQ2hpbGQoY2FyZFBhcmVudERpdik7XG4gIHBhcmVudERpdi5hcHBlbmRDaGlsZChhZGRCdXR0b24pO1xuICAvLyBMaXN0ZW5lcnNcbiAgLy8gdGl0bGVEaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlZGl0VGl0bGUpO1xuICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjcmVhdGVDYXJkRm9ybSk7XG4gIGFkZEJ1dHRvbi5jb2x1bW5OYW1lID0gY29sT2JqZWN0LnRpdGxlO1xufVxuIiwiaW1wb3J0IHsgaW5pdENvbHVtbnMsIGdldENvbE51bWJlciB9IGZyb20gJy4vY29sdW1uJztcbmltcG9ydCB7IGFkZENvbHVtblRvRE9NLCBsb2FkQ2FyZCB9IGZyb20gJy4vZG9tJztcbmltcG9ydCB7IGdldENvbHVtbkRhdGEgfSBmcm9tICcuL2RhdGEnO1xuLy8gaW1wb3J0IHsgY3JlYXRlQ2FyZCB9IGZyb20gJy4vY2FyZCc7XG4vLyBpbXBvcnQgeyBpbml0TmV3Q29sdW1uQnV0dG9ucyB9IGZyb20gJy4vYWRkLW5ldy1jb2x1bW4nO1xuXG5mdW5jdGlvbiBpbml0TmV3Q29sdW1uQnV0dG9ucygpIHtcbiAgY29uc3QgYWRkQ29sQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hZGQtY29sdW1uLWJ0bicpO1xuICBhZGRDb2xCdXR0b25zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkQ29sdW1uKSk7XG4gIC8vIGNvbnNvbGUubG9nKGFkZENvbEJ1dHRvbnMubGVuZ3RoKTtcbn1cblxuLy8gYWRkIGEgbmV3IGNvbHVtbiB3aGVuIGNsaWNrIG9uIERPTSBidXR0b25cbmZ1bmN0aW9uIGFkZENvbHVtbigpIHtcbiAgLy8gZ2V0IGNvbCBudW1iZXJcbiAgY29uc3QgbmV3Q29sdW1uTmFtZSA9ICdMaXN0ICcgKyBnZXRDb2xOdW1iZXIoKTtcbiAgYWRkQ29sdW1uVG9ET00oaW5pdENvbHVtbnMobmV3Q29sdW1uTmFtZSkpO1xufVxuXG5mdW5jdGlvbiBsb2FkRGF0YSgpIHtcbiAgY29uc3QgZGF0YSA9IGdldENvbHVtbkRhdGEoKTtcbiAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICBpZiAoZGF0YSkge1xuICAgIC8vIGZvciBlYWNoIGNvbHVtbiwgY3JlYXRlIGNvbHVtblxuICAgIGZvciAoY29uc3QgY29sdW1uIGluIGRhdGEpIHtcbiAgICAgIGFkZENvbHVtblRvRE9NKGluaXRDb2x1bW5zKGNvbHVtbiwgZmFsc2UpKTtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGFbY29sdW1uXVsnY2FyZHMnXSk7XG4gICAgICBkYXRhW2NvbHVtbl1bJ2NhcmRzJ10uZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhjYXJkLnRpdGxlICsgJywgJyArIGNhcmQuY29sTmFtZSk7XG4gICAgICAgIC8vIGNyZWF0ZSBjYXJkXG4gICAgICAgIGxvYWRDYXJkKGNhcmQudGl0bGUsIGNhcmQuY29sTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc3RhcnRDb2x1bW5OYW1lID0gJ0luYm94JztcbiAgICBhZGRDb2x1bW5Ub0RPTShpbml0Q29sdW1ucyhzdGFydENvbHVtbk5hbWUpKTtcbiAgfVxufVxuXG4vLyBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbi8vIGFkZENvbHVtblRvRE9NKGluaXRDb2x1bW5zKCdUMScpKTtcbi8vIGFkZENvbHVtblRvRE9NKGluaXRDb2x1bW5zKCd0aXRsZV8yJykpO1xubG9hZERhdGEoKTtcbmluaXROZXdDb2x1bW5CdXR0b25zKCk7XG5cbi8qXG5UT0RPOlxuXG4qKkV4dGVuZGVkKipcblxuUFJJT1JJVFlcbi0gRXhwYW5kIG5ldyB0byBkbyBmb3JtIHcvIHByaW9yaXR5XG4tIGNoYW5naW5nIGNvbG9yIGZvciBkaWZmZXJlbnQgcHJpb3JpdGllc1xuXG5QT0xJU0hcbi0gQ2hhbmdlIGNvbHVtbiB0aXRsZSB3aXRoIGNsaWNrXG4tLSBGb3JtIGFkZCBidXR0b24gY3JlYXRlIHRhc2sgKGRpc2FibGVkIGlmIG5vIHRleHQpXG4tIHZpZXcgYWxsIHRvZG9zIGluIGVhY2ggcHJvamVjdCAocHJvYmFibHkganVzdCB0aGUgdGl0bGUgYW5kIGR1ZWRhdGUpXG4tIGV4cGFuZCBhIHNpbmdsZSB0b2RvIHRvIHNlZS9lZGl0IGl0cyBkZXRhaWxzXG4tIGRlbGV0ZSBhIHRvZG9cblxuTkFWXG4tIGtlZXAgbGVmdCBjb2x1bW4gb24gc2NyZWVuIC0gZm9jdXMgb24gMSBjb2x1bW5cbi0tIHNjcm9sbCB0aHJvdWdoIHdpdGggYXJyb3cga2V5c1xuXG4tIG1vdmUgY29sdW1uc1xuLSBkYXRlLWZucyBmb3IgZm9ybWF0dGluZyBhbmQgbWFuaXB1bGF0aW5nIGRhdGVzIGFuZCB0aW1lcy5cbi0gVXNlciBhdXRoZW50aWNhdGlvblxuLSBCYWFTXG5cbiovXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///568\n")}},__webpack_exports__={};__webpack_modules__[568]()})();