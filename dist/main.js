(()=>{"use strict";let t=new Map;class e{constructor(t){this.title=t,this.cards=[]}addCard=t=>this.cards.push(t);removeCard=t=>{const e=this.cards.indexOf(t);e>-1&&this.cards.splice(e,1)};changeTitle=t=>{this.title=t}}function n(e){return t.get(e)}function d(n){const d=new e(n);return t.set(n,d),d}let a=new Map;class c{constructor(t,e){this.title=t,this.colName=e}}let i=new Map;function r(){const t=i.get("addTaskButton");t.classList.contains("hide")?t.classList.remove("hide"):t.classList.add("hide")}function o(){i.get("card").remove(),i.get("buttonContainer").remove(),r(),i.clear()}function s(t){(function(t){const e=a.get(t);console.log(e),function(t,e){n(e).removeCard(t)}(e,e.colName),a.delete(e.title)})(t.target.parentNode.querySelector("#title-input").getAttribute("data-title")),t.target.parentNode.parentNode.removeChild(t.target.parentNode)}function l(t){const e=t.target.parentNode.parentNode,d=function(t){const e=document.createElement("div"),n=document.createElement("input"),d=document.createElement("input");return e.classList.add("to-do-card"),e.classList.add("round"),n.setAttribute("type","checkbox"),d.setAttribute("id","title-input"),d.setAttribute("data-title",t.title),d.value=t.title,e.appendChild(n),e.appendChild(d),n.addEventListener("click",s),e}(function(t,e){const d=new c(t,e);return a.set(t,d),function(t,e){n(e).addCard(t)}(d,e),d}(document.getElementById("card-title").value,t.target.parentNode.parentNode.getAttribute("data-column")));e.getElementsByTagName("div")[1].appendChild(d),o()}function u(){o()}function m(t){const e=t.target.parentNode.getAttribute("data-column"),n=t.target.parentNode,d=document.createElement("div"),a=document.createElement("form"),c=document.createElement("input"),o=document.createElement("div"),s=document.createElement("button"),m=document.createElement("button");s.innerHTML="Cancel",m.innerHTML="Add",d.classList.add("to-do-card"),d.setAttribute("id","form"),c.setAttribute("placeholder","Task name"),c.setAttribute("id","card-title"),c.required=!0,c.setAttribute("autocomplete","off"),o.setAttribute("id","card-btns"),s.setAttribute("id","card-cancel-btn"),m.setAttribute("type","submit"),m.setAttribute("id","card-add-btn"),n.appendChild(d),d.appendChild(a),a.appendChild(c),n.appendChild(o),o.appendChild(s),o.appendChild(m),c.focus(),c.addEventListener("keypress",(t=>{console.log(t.key),"Enter"===t.key&&l()})),m.addEventListener("click",l),m.column=t.target.columnName,s.addEventListener("click",u),i.set("card",d),i.set("buttonContainer",o),i.set("addTaskButton",document.querySelector(`[data-column='${e}'] #add-task`)),r()}function p(t){const e=document.querySelector(".column-content"),n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),c=document.createElement("button");d.innerHTML=t.title,c.innerHTML="+ add task",n.setAttribute("data-column",t.title),n.classList.add("column"),d.classList.add("column-title"),a.setAttribute("id","column-cards"),c.classList.add("add-task-btn"),c.setAttribute("id","add-task"),e.appendChild(n),n.appendChild(d),n.appendChild(a),n.appendChild(c),c.addEventListener("click",m),c.columnName=t.title}function b(){p(d("List "+t.size))}document.querySelectorAll(".add-column-btn").forEach((t=>t.addEventListener("click",b))),p(d("Inbox"))})();
//# sourceMappingURL=main.js.map